<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>File System Service API &mdash; python-devicecloud 0.5.9 documentation</title>
      <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  <!--[if lt IE 9]>
    <script src="_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script data-url_root="./" id="documentation_options" src="_static/documentation_options.js"></script>
        <script src="_static/jquery.js"></script>
        <script src="_static/underscore.js"></script>
        <script src="_static/doctools.js"></script>
    <script src="_static/js/theme.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Monitor API" href="monitor.html" />
    <link rel="prev" title="SCI (Server Command Interface) API" href="sci.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
            <a href="index.html" class="icon icon-home"> python-devicecloud
          </a>
              <div class="version">
                0.5.9
              </div>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="core.html">Core API</a></li>
<li class="toctree-l1"><a class="reference internal" href="devicecore.html">DeviceCore API</a></li>
<li class="toctree-l1"><a class="reference internal" href="streams.html">Streams API</a></li>
<li class="toctree-l1"><a class="reference internal" href="filedata.html">FileData API</a></li>
<li class="toctree-l1"><a class="reference internal" href="sci.html">SCI (Server Command Interface) API</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">File System Service API</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#file-system-service-overview">File System Service Overview</a></li>
<li class="toctree-l2"><a class="reference internal" href="#module-devicecloud.file_system_service">File System Service API Documentation</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="monitor.html">Monitor API</a></li>
<li class="toctree-l1"><a class="reference internal" href="ws.html">Direct Web Services API</a></li>
<li class="toctree-l1"><a class="reference internal" href="cookbook.html">Cookbook</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">python-devicecloud</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="index.html" class="icon icon-home"></a> &raquo;</li>
      <li>File System Service API</li>
      <li class="wy-breadcrumbs-aside">
            <a href="_sources/filesystem.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="file-system-service-api">
<h1>File System Service API<a class="headerlink" href="#file-system-service-api" title="Permalink to this headline">¶</a></h1>
<section id="file-system-service-overview">
<h2>File System Service Overview<a class="headerlink" href="#file-system-service-overview" title="Permalink to this headline">¶</a></h2>
<p>Provide access to Device Cloud File System commands that use SCI to
get the data from your devices connected to the cloud.</p>
</section>
<section id="module-devicecloud.file_system_service">
<span id="file-system-service-api-documentation"></span><h2>File System Service API Documentation<a class="headerlink" href="#module-devicecloud.file_system_service" title="Permalink to this headline">¶</a></h2>
<p>Provide access to Device Cloud file system service API</p>
<dl class="py exception">
<dt class="sig sig-object py" id="devicecloud.file_system_service.FileSystemServiceException">
<em class="property"><span class="pre">exception</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">devicecloud.file_system_service.</span></span><span class="sig-name descname"><span class="pre">FileSystemServiceException</span></span><a class="headerlink" href="#devicecloud.file_system_service.FileSystemServiceException" title="Permalink to this definition">¶</a></dt>
<dd><p>A file system service exception</p>
</dd></dl>

<dl class="py exception">
<dt class="sig sig-object py" id="devicecloud.file_system_service.ResponseParseError">
<em class="property"><span class="pre">exception</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">devicecloud.file_system_service.</span></span><span class="sig-name descname"><span class="pre">ResponseParseError</span></span><a class="headerlink" href="#devicecloud.file_system_service.ResponseParseError" title="Permalink to this definition">¶</a></dt>
<dd><p>An Exception when receiving an unexpected SCI response format</p>
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="devicecloud.file_system_service.ErrorInfo">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">devicecloud.file_system_service.</span></span><span class="sig-name descname"><span class="pre">ErrorInfo</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">errno</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">message</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#devicecloud.file_system_service.ErrorInfo" title="Permalink to this definition">¶</a></dt>
<dd><p>Represents an error response from the device or the devicecloud</p>
<dl class="field-list simple">
<dt class="field-odd">Variables</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>errno</strong> – The error number reported in the response</p></li>
<li><p><strong>message</strong> – The error message reported in the response</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="devicecloud.file_system_service.LsInfo">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">devicecloud.file_system_service.</span></span><span class="sig-name descname"><span class="pre">LsInfo</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">directories</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">files</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#devicecloud.file_system_service.LsInfo" title="Permalink to this definition">¶</a></dt>
<dd><dl class="py property">
<dt class="sig sig-object py" id="devicecloud.file_system_service.LsInfo.directories">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">directories</span></span><a class="headerlink" href="#devicecloud.file_system_service.LsInfo.directories" title="Permalink to this definition">¶</a></dt>
<dd><p>Alias for field number 0</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="devicecloud.file_system_service.LsInfo.files">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">files</span></span><a class="headerlink" href="#devicecloud.file_system_service.LsInfo.files" title="Permalink to this definition">¶</a></dt>
<dd><p>Alias for field number 1</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="devicecloud.file_system_service.FileInfo">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">devicecloud.file_system_service.</span></span><span class="sig-name descname"><span class="pre">FileInfo</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">fssapi</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">device_id</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">path</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">last_modified</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">size</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">hash</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">hash_type</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#devicecloud.file_system_service.FileInfo" title="Permalink to this definition">¶</a></dt>
<dd><p>Represents a file from a device</p>
<p>This stores the information about a file on the device returned from an ls command.
It also provides functionality to get the contents of the represented file and delete
it.  However, writing to the file is not supported as it would invalidate the other
information stored in this object.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>fssapi</strong> (<a class="reference internal" href="#devicecloud.file_system_service.FileSystemServiceAPI" title="devicecloud.file_system_service.FileSystemServiceAPI"><code class="xref py py-class docutils literal notranslate"><span class="pre">FileSystemServiceAPI</span></code></a>) – A <a class="reference internal" href="#devicecloud.file_system_service.FileSystemServiceAPI" title="devicecloud.file_system_service.FileSystemServiceAPI"><code class="xref py py-class docutils literal notranslate"><span class="pre">FileSystemServiceAPI</span></code></a> object to perform device file operations with</p></li>
<li><p><strong>device_id</strong> – The Device ID of the device this file is on</p></li>
<li><p><strong>path</strong> – The path to this file on the device</p></li>
<li><p><strong>last_modified</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.10)"><em>int</em></a>) – The last time the file was modified</p></li>
<li><p><strong>size</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.10)"><em>int</em></a>) – The size of the file</p></li>
<li><p><strong>hash</strong> – The files hash</p></li>
<li><p><strong>hash_type</strong> – The method used to produce the hash</p></li>
</ul>
</dd>
<dt class="field-even">Variables</dt>
<dd class="field-even"><ul class="simple">
<li><p><strong>device_id</strong> – The Device ID of the device this file is on</p></li>
<li><p><strong>path</strong> – The path to this file on the device</p></li>
<li><p><strong>last_modified</strong> – The last time the file was modified</p></li>
<li><p><strong>size</strong> – The size of the file</p></li>
<li><p><strong>hash</strong> – The files hash</p></li>
<li><p><strong>hash_type</strong> – The method used to produce the hash</p></li>
</ul>
</dd>
</dl>
<dl class="py method">
<dt class="sig sig-object py" id="devicecloud.file_system_service.FileInfo.get_data">
<span class="sig-name descname"><span class="pre">get_data</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#devicecloud.file_system_service.FileInfo.get_data" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the contents of this file</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>The contents of this file</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>six.binary_type</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="devicecloud.file_system_service.FileInfo.delete">
<span class="sig-name descname"><span class="pre">delete</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#devicecloud.file_system_service.FileInfo.delete" title="Permalink to this definition">¶</a></dt>
<dd><p>Delete this file from the device</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>After deleting the file, this object will no longer contain valid information
and further calls to delete or get_data will return <a class="reference internal" href="#devicecloud.file_system_service.ErrorInfo" title="devicecloud.file_system_service.ErrorInfo"><code class="xref py py-class docutils literal notranslate"><span class="pre">ErrorInfo</span></code></a> objects</p>
</div>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="devicecloud.file_system_service.DirectoryInfo">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">devicecloud.file_system_service.</span></span><span class="sig-name descname"><span class="pre">DirectoryInfo</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">fssapi</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">device_id</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">path</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">last_modified</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#devicecloud.file_system_service.DirectoryInfo" title="Permalink to this definition">¶</a></dt>
<dd><p>Represents a directory from a device</p>
<p>This stores the information about a directory on the device returned from an ls command.
It also provides functionality to list the contents of the directory.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>fssapi</strong> (<a class="reference internal" href="#devicecloud.file_system_service.FileSystemServiceAPI" title="devicecloud.file_system_service.FileSystemServiceAPI"><code class="xref py py-class docutils literal notranslate"><span class="pre">FileSystemServiceAPI</span></code></a>) – A <a class="reference internal" href="#devicecloud.file_system_service.FileSystemServiceAPI" title="devicecloud.file_system_service.FileSystemServiceAPI"><code class="xref py py-class docutils literal notranslate"><span class="pre">FileSystemServiceAPI</span></code></a> object to perform device directory operations with</p></li>
<li><p><strong>device_id</strong> – The Device ID of the device this file is on</p></li>
<li><p><strong>path</strong> – The path to this file on the device</p></li>
<li><p><strong>last_modified</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.10)"><em>int</em></a>) – The last time the file was modified</p></li>
</ul>
</dd>
<dt class="field-even">Variables</dt>
<dd class="field-even"><ul class="simple">
<li><p><strong>device_id</strong> – The Device ID of the device this file is on</p></li>
<li><p><strong>path</strong> – The path to this file on the device</p></li>
<li><p><strong>last_modified</strong> – the last time the file was modified</p></li>
</ul>
</dd>
</dl>
<dl class="py method">
<dt class="sig sig-object py" id="devicecloud.file_system_service.DirectoryInfo.list_contents">
<span class="sig-name descname"><span class="pre">list_contents</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#devicecloud.file_system_service.DirectoryInfo.list_contents" title="Permalink to this definition">¶</a></dt>
<dd><p>List the contents of this directory</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>A LsInfo object that contains directories and files</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p><a class="reference internal" href="#devicecloud.file_system_service.LsInfo" title="devicecloud.file_system_service.LsInfo"><code class="xref py py-class docutils literal notranslate"><span class="pre">LsInfo</span></code></a> or <a class="reference internal" href="#devicecloud.file_system_service.ErrorInfo" title="devicecloud.file_system_service.ErrorInfo"><code class="xref py py-class docutils literal notranslate"><span class="pre">ErrorInfo</span></code></a></p>
</dd>
</dl>
<p>Here is an example usage:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1"># let dirinfo be a DirectoryInfo object</span>
<span class="n">ldata</span> <span class="o">=</span> <span class="n">dirinfo</span><span class="o">.</span><span class="n">list_contents</span><span class="p">()</span>
<span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">ldata</span><span class="p">,</span> <span class="n">ErrorInfo</span><span class="p">):</span>
    <span class="c1"># Do some error handling</span>
    <span class="n">logger</span><span class="o">.</span><span class="n">warn</span><span class="p">(</span><span class="s2">&quot;Error listing file info: (</span><span class="si">%s</span><span class="s2">) </span><span class="si">%s</span><span class="s2">&quot;</span><span class="p">,</span> <span class="n">ldata</span><span class="o">.</span><span class="n">errno</span><span class="p">,</span> <span class="n">ldata</span><span class="o">.</span><span class="n">message</span><span class="p">)</span>
<span class="c1"># It&#39;s of type LsInfo</span>
<span class="k">else</span><span class="p">:</span>
    <span class="c1"># Look at all the files</span>
    <span class="k">for</span> <span class="n">finfo</span> <span class="ow">in</span> <span class="n">ldata</span><span class="o">.</span><span class="n">files</span><span class="p">:</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;Found file </span><span class="si">%s</span><span class="s2"> of size </span><span class="si">%s</span><span class="s2">&quot;</span><span class="p">,</span> <span class="n">finfo</span><span class="o">.</span><span class="n">path</span><span class="p">,</span> <span class="n">finfo</span><span class="o">.</span><span class="n">size</span><span class="p">)</span>
    <span class="c1"># Look at all the directories</span>
    <span class="k">for</span> <span class="n">dinfo</span> <span class="ow">in</span> <span class="n">ldata</span><span class="o">.</span><span class="n">directories</span><span class="p">:</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;Found directory </span><span class="si">%s</span><span class="s2"> of last modified </span><span class="si">%s</span><span class="s2">&quot;</span><span class="p">,</span> <span class="n">dinfo</span><span class="o">.</span><span class="n">path</span><span class="p">,</span> <span class="n">dinfo</span><span class="o">.</span><span class="n">last_modified</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="devicecloud.file_system_service.FileSystemServiceCommandABC">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">devicecloud.file_system_service.</span></span><span class="sig-name descname"><span class="pre">FileSystemServiceCommandABC</span></span><a class="headerlink" href="#devicecloud.file_system_service.FileSystemServiceCommandABC" title="Permalink to this definition">¶</a></dt>
<dd><p>Abstract base class for FileSystemServiceCommands</p>
<dl class="field-list simple">
<dt class="field-odd">Variables</dt>
<dd class="field-odd"><p><strong>command_name</strong> – The file_system command name of this command</p>
</dd>
</dl>
<dl class="py method">
<dt class="sig sig-object py" id="devicecloud.file_system_service.FileSystemServiceCommandABC.get_etree">
<span class="sig-name descname"><span class="pre">get_etree</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#devicecloud.file_system_service.FileSystemServiceCommandABC.get_etree" title="Permalink to this definition">¶</a></dt>
<dd><p>Return an <a class="reference external" href="https://docs.python.org/3/library/xml.etree.elementtree.html#xml.etree.ElementTree.Element" title="(in Python v3.10)"><code class="xref py py-class docutils literal notranslate"><span class="pre">xml.etree.ElementTree.Element</span></code></a> that is the root of the command XML for this command</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="devicecloud.file_system_service.FileSystemServiceCommandABC.parse_response">
<em class="property"><span class="pre">classmethod</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">parse_response</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">response</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#devicecloud.file_system_service.FileSystemServiceCommandABC.parse_response" title="Permalink to this definition">¶</a></dt>
<dd><p>Parse the server response for this command type</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="devicecloud.file_system_service.LsCommand">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">devicecloud.file_system_service.</span></span><span class="sig-name descname"><span class="pre">LsCommand</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">path</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">hash</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'any'</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#devicecloud.file_system_service.LsCommand" title="Permalink to this definition">¶</a></dt>
<dd><p>Class representing the ls command to list files on a device</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>path</strong> – the path to the device directory to list</p></li>
<li><p><strong>hash</strong> – the method to generate the file hashes</p></li>
</ul>
</dd>
<dt class="field-even">Variables</dt>
<dd class="field-even"><p><strong>command_name</strong> – The file_system command name of this command (“ls”)</p>
</dd>
</dl>
<dl class="py method">
<dt class="sig sig-object py" id="devicecloud.file_system_service.LsCommand.get_etree">
<span class="sig-name descname"><span class="pre">get_etree</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#devicecloud.file_system_service.LsCommand.get_etree" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the XML representation of this command</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>the <a class="reference external" href="https://docs.python.org/3/library/xml.etree.elementtree.html#xml.etree.ElementTree.Element" title="(in Python v3.10)"><code class="xref py py-class docutils literal notranslate"><span class="pre">xml.etree.ElementTree.Element</span></code></a> that is the root of the XML of the ls command</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="devicecloud.file_system_service.LsCommand.parse_response">
<em class="property"><span class="pre">classmethod</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">parse_response</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">response</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">device_id</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fssapi</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#devicecloud.file_system_service.LsCommand.parse_response" title="Permalink to this definition">¶</a></dt>
<dd><p>Parse the server response for this ls command</p>
<p>This will parse xml of the following form:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">&lt;</span><span class="n">ls</span> <span class="nb">hash</span><span class="o">=</span><span class="s2">&quot;hash_type&quot;</span><span class="o">&gt;</span>
  <span class="o">&lt;</span><span class="n">file</span> <span class="n">path</span><span class="o">=</span><span class="s2">&quot;file_path&quot;</span> <span class="n">last_modified</span><span class="o">=</span><span class="n">last_modified_time</span> <span class="o">...</span> <span class="o">/&gt;</span>
  <span class="o">...</span>
  <span class="o">&lt;</span><span class="nb">dir</span> <span class="n">path</span><span class="o">=</span><span class="s2">&quot;dir_path&quot;</span> <span class="n">last_modified</span><span class="o">=</span><span class="n">last_modified_time</span> <span class="o">/&gt;</span>
  <span class="o">...</span>
<span class="o">&lt;/</span><span class="n">ls</span><span class="o">&gt;</span>
</pre></div>
</div>
<p>or with an error:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">&lt;</span><span class="n">ls</span><span class="o">&gt;</span>
    <span class="o">&lt;</span><span class="n">error</span> <span class="o">...</span> <span class="o">/&gt;</span>
<span class="o">&lt;/</span><span class="n">ls</span><span class="o">&gt;</span>
</pre></div>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>response</strong> (<a class="reference external" href="https://docs.python.org/3/library/xml.etree.elementtree.html#xml.etree.ElementTree.Element" title="(in Python v3.10)"><code class="xref py py-class docutils literal notranslate"><span class="pre">xml.etree.ElementTree.Element</span></code></a>) – The XML root of the response for an ls command</p></li>
<li><p><strong>device_id</strong> – The device id of the device this ls response came from</p></li>
<li><p><strong>fssapi</strong> – A reference to a <a class="reference internal" href="#devicecloud.file_system_service.FileSystemServiceAPI" title="devicecloud.file_system_service.FileSystemServiceAPI"><code class="xref py py-class docutils literal notranslate"><span class="pre">FileSystemServiceAPI</span></code></a> for use with the
<a class="reference internal" href="#devicecloud.file_system_service.FileInfo" title="devicecloud.file_system_service.FileInfo"><code class="xref py py-class docutils literal notranslate"><span class="pre">FileInfo</span></code></a> and <a class="reference internal" href="#devicecloud.file_system_service.DirectoryInfo" title="devicecloud.file_system_service.DirectoryInfo"><code class="xref py py-class docutils literal notranslate"><span class="pre">DirectoryInfo</span></code></a> objects for future commands</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>An <a class="reference internal" href="#devicecloud.file_system_service.LsInfo" title="devicecloud.file_system_service.LsInfo"><code class="xref py py-class docutils literal notranslate"><span class="pre">LsInfo</span></code></a> object containing the list of directories and files on
the device or an <a class="reference internal" href="#devicecloud.file_system_service.ErrorInfo" title="devicecloud.file_system_service.ErrorInfo"><code class="xref py py-class docutils literal notranslate"><span class="pre">ErrorInfo</span></code></a> if the xml contained an error</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="devicecloud.file_system_service.GetCommand">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">devicecloud.file_system_service.</span></span><span class="sig-name descname"><span class="pre">GetCommand</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">path</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">offset</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">length</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#devicecloud.file_system_service.GetCommand" title="Permalink to this definition">¶</a></dt>
<dd><p>Class representing the get file command to get the contents of a file on a device</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>path</strong> – the path to the file on the device to get the contents of</p></li>
<li><p><strong>offset</strong> – the point in the file to start reading data from (if None, start at the beginning)</p></li>
<li><p><strong>length</strong> – the length of data to retrieve (if None, read until the end)</p></li>
</ul>
</dd>
<dt class="field-even">Variables</dt>
<dd class="field-even"><p><strong>command_name</strong> – The file_system command name of this command (“get_file”)</p>
</dd>
</dl>
<dl class="py method">
<dt class="sig sig-object py" id="devicecloud.file_system_service.GetCommand.get_etree">
<span class="sig-name descname"><span class="pre">get_etree</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#devicecloud.file_system_service.GetCommand.get_etree" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the XML representation of this get file command</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>the <a class="reference external" href="https://docs.python.org/3/library/xml.etree.elementtree.html#xml.etree.ElementTree.Element" title="(in Python v3.10)"><code class="xref py py-class docutils literal notranslate"><span class="pre">xml.etree.ElementTree.Element</span></code></a> that is the root of the XML of the get_file command</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="devicecloud.file_system_service.GetCommand.parse_response">
<em class="property"><span class="pre">classmethod</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">parse_response</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">response</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#devicecloud.file_system_service.GetCommand.parse_response" title="Permalink to this definition">¶</a></dt>
<dd><p>Parse the server response for this get file command</p>
<p>This will parse xml of the following form:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">&lt;</span><span class="n">get_file</span><span class="o">&gt;</span>
    <span class="o">&lt;</span><span class="n">data</span><span class="o">&gt;</span>
       <span class="n">asdfasdfasdfasdfasf</span>
    <span class="o">&lt;/</span><span class="n">data</span><span class="o">&gt;</span>
<span class="o">&lt;/</span><span class="n">get_file</span><span class="o">&gt;</span>
</pre></div>
</div>
<p>or with an error:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">&lt;</span><span class="n">get_file</span><span class="o">&gt;</span>
    <span class="o">&lt;</span><span class="n">error</span> <span class="o">...</span> <span class="o">/&gt;</span>
<span class="o">&lt;/</span><span class="n">get_file</span><span class="o">&gt;</span>
</pre></div>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>response</strong> (<a class="reference external" href="https://docs.python.org/3/library/xml.etree.elementtree.html#xml.etree.ElementTree.Element" title="(in Python v3.10)"><code class="xref py py-class docutils literal notranslate"><span class="pre">xml.etree.ElementTree.Element</span></code></a>) – The XML root of the response for a get file command</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>a six.binary_type string of the data of a file or an <a class="reference internal" href="#devicecloud.file_system_service.ErrorInfo" title="devicecloud.file_system_service.ErrorInfo"><code class="xref py py-class docutils literal notranslate"><span class="pre">ErrorInfo</span></code></a> if the xml contained an error</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="devicecloud.file_system_service.PutCommand">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">devicecloud.file_system_service.</span></span><span class="sig-name descname"><span class="pre">PutCommand</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">path</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">file_data</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">server_file</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">offset</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">truncate</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#devicecloud.file_system_service.PutCommand" title="Permalink to this definition">¶</a></dt>
<dd><p>Class representing the put file command to write contents to a file on a device</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>path</strong> – The path on the target to the file to write to.  If the file already exists it will be overwritten.</p></li>
<li><p><strong>file_data</strong> – A <cite>six.binary_type</cite> containing the data to put into the file</p></li>
<li><p><strong>server_file</strong> – The path to a file on the devicecloud server containing the data to put into the file on the
device</p></li>
<li><p><strong>offset</strong> – Start writing bytes to the file at this position, if None start at the beginning</p></li>
<li><p><strong>truncate</strong> – Boolean, if True after bytes are done being written end the file their even if previous data
exists beyond it.  If False, leave any existing data in place.</p></li>
</ul>
</dd>
<dt class="field-even">Variables</dt>
<dd class="field-even"><p><strong>command_name</strong> – The file_system command name of this command (“put_file”)</p>
</dd>
</dl>
<dl class="py method">
<dt class="sig sig-object py" id="devicecloud.file_system_service.PutCommand.get_etree">
<span class="sig-name descname"><span class="pre">get_etree</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#devicecloud.file_system_service.PutCommand.get_etree" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the XML representation of this put file command</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>the <a class="reference external" href="https://docs.python.org/3/library/xml.etree.elementtree.html#xml.etree.ElementTree.Element" title="(in Python v3.10)"><code class="xref py py-class docutils literal notranslate"><span class="pre">xml.etree.ElementTree.Element</span></code></a> that is the root of the XML of the put file command</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="devicecloud.file_system_service.PutCommand.parse_response">
<em class="property"><span class="pre">classmethod</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">parse_response</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">response</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#devicecloud.file_system_service.PutCommand.parse_response" title="Permalink to this definition">¶</a></dt>
<dd><p>Parse the server response for this put file command</p>
<p>This will parse xml of the following form:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">&lt;</span><span class="n">put_file</span> <span class="o">/&gt;</span>
</pre></div>
</div>
<p>or with an error:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">&lt;</span><span class="n">put_file</span><span class="o">&gt;</span>
    <span class="o">&lt;</span><span class="n">error</span> <span class="o">...</span> <span class="o">/&gt;</span>
<span class="o">&lt;/</span><span class="n">put_file</span><span class="o">&gt;</span>
</pre></div>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>response</strong> (<a class="reference external" href="https://docs.python.org/3/library/xml.etree.elementtree.html#xml.etree.ElementTree.Element" title="(in Python v3.10)"><code class="xref py py-class docutils literal notranslate"><span class="pre">xml.etree.ElementTree.Element</span></code></a>) – The XML root of the response for a put file command</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>None if everything was ok or an <a class="reference internal" href="#devicecloud.file_system_service.ErrorInfo" title="devicecloud.file_system_service.ErrorInfo"><code class="xref py py-class docutils literal notranslate"><span class="pre">ErrorInfo</span></code></a> if the xml contained an error</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="devicecloud.file_system_service.DeleteCommand">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">devicecloud.file_system_service.</span></span><span class="sig-name descname"><span class="pre">DeleteCommand</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">path</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#devicecloud.file_system_service.DeleteCommand" title="Permalink to this definition">¶</a></dt>
<dd><p>Class representing the delete file command on a device</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>path</strong> – The path on the target to the file to delete.</p>
</dd>
<dt class="field-even">Variables</dt>
<dd class="field-even"><p><strong>command_name</strong> – The file_system command name of this command (“rm”)</p>
</dd>
</dl>
<dl class="py method">
<dt class="sig sig-object py" id="devicecloud.file_system_service.DeleteCommand.get_etree">
<span class="sig-name descname"><span class="pre">get_etree</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#devicecloud.file_system_service.DeleteCommand.get_etree" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the XML representation of this delete file command</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>the <a class="reference external" href="https://docs.python.org/3/library/xml.etree.elementtree.html#xml.etree.ElementTree.Element" title="(in Python v3.10)"><code class="xref py py-class docutils literal notranslate"><span class="pre">xml.etree.ElementTree.Element</span></code></a> that is the root of the XML of the delete file command</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="devicecloud.file_system_service.DeleteCommand.parse_response">
<em class="property"><span class="pre">classmethod</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">parse_response</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">response</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#devicecloud.file_system_service.DeleteCommand.parse_response" title="Permalink to this definition">¶</a></dt>
<dd><p>Parse the server response for this put file command</p>
<p>This will parse xml of the following form:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">&lt;</span><span class="n">rm</span> <span class="o">/&gt;</span>
</pre></div>
</div>
<p>or with an error:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">&lt;</span><span class="n">rm</span><span class="o">&gt;</span>
    <span class="o">&lt;</span><span class="n">error</span> <span class="o">...</span> <span class="o">/&gt;</span>
<span class="o">&lt;/</span><span class="n">rm</span><span class="o">&gt;</span>
</pre></div>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>response</strong> (<a class="reference external" href="https://docs.python.org/3/library/xml.etree.elementtree.html#xml.etree.ElementTree.Element" title="(in Python v3.10)"><code class="xref py py-class docutils literal notranslate"><span class="pre">xml.etree.ElementTree.Element</span></code></a>) – The XML root of the response for a delete file command</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>None if everything was ok or an <a class="reference internal" href="#devicecloud.file_system_service.ErrorInfo" title="devicecloud.file_system_service.ErrorInfo"><code class="xref py py-class docutils literal notranslate"><span class="pre">ErrorInfo</span></code></a> if the xml contained an error</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="devicecloud.file_system_service.FileSystemServiceAPI">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">devicecloud.file_system_service.</span></span><span class="sig-name descname"><span class="pre">FileSystemServiceAPI</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">sci_api</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#devicecloud.file_system_service.FileSystemServiceAPI" title="Permalink to this definition">¶</a></dt>
<dd><p>Encapsulate the File System Service API</p>
<dl class="py method">
<dt class="sig sig-object py" id="devicecloud.file_system_service.FileSystemServiceAPI.send_command_block">
<span class="sig-name descname"><span class="pre">send_command_block</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">target</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">command_block</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#devicecloud.file_system_service.FileSystemServiceAPI.send_command_block" title="Permalink to this definition">¶</a></dt>
<dd><p>Send an arbitrary file system command block</p>
<p>The primary use for this method is to send multiple file system commands with a single
web service request.  This can help to avoid throttling.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>target</strong> (<a class="reference internal" href="sci.html#devicecloud.sci.TargetABC" title="devicecloud.sci.TargetABC"><code class="xref py py-class docutils literal notranslate"><span class="pre">devicecloud.sci.TargetABC</span></code></a> or list of <a class="reference internal" href="sci.html#devicecloud.sci.TargetABC" title="devicecloud.sci.TargetABC"><code class="xref py py-class docutils literal notranslate"><span class="pre">devicecloud.sci.TargetABC</span></code></a> instances) – The device(s) to be targeted with this request</p></li>
<li><p><strong>command_block</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">FileSystemServiceCommandBlock</span></code>) – The block of commands to execute on the target</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>The response will be a dictionary where the keys are device_ids and the values are
the parsed responses of each command sent in the order listed in the command response for
that device.  In practice it seems to be the same order as the commands were sent in, however,
Device Cloud documentation does not explicitly state anywhere that is the case so I cannot
guarantee it. This does mean that if you send different types of commands the response list
will be different types.  Please see the commands parse_response functions for what those types
will be. (<a class="reference internal" href="#devicecloud.file_system_service.LsCommand.parse_response" title="devicecloud.file_system_service.LsCommand.parse_response"><code class="xref py py-meth docutils literal notranslate"><span class="pre">LsCommand.parse_response()</span></code></a>, <a class="reference internal" href="#devicecloud.file_system_service.GetCommand.parse_response" title="devicecloud.file_system_service.GetCommand.parse_response"><code class="xref py py-class docutils literal notranslate"><span class="pre">GetCommand.parse_response</span></code></a>,
<a class="reference internal" href="#devicecloud.file_system_service.PutCommand.parse_response" title="devicecloud.file_system_service.PutCommand.parse_response"><code class="xref py py-class docutils literal notranslate"><span class="pre">PutCommand.parse_response</span></code></a>, <a class="reference internal" href="#devicecloud.file_system_service.DeleteCommand.parse_response" title="devicecloud.file_system_service.DeleteCommand.parse_response"><code class="xref py py-class docutils literal notranslate"><span class="pre">DeleteCommand.parse_response</span></code></a>)</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="devicecloud.file_system_service.FileSystemServiceAPI.list_files">
<span class="sig-name descname"><span class="pre">list_files</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">target</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">path</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">hash</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'any'</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#devicecloud.file_system_service.FileSystemServiceAPI.list_files" title="Permalink to this definition">¶</a></dt>
<dd><p>List all files and directories in the path on the target</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>target</strong> (<a class="reference internal" href="sci.html#devicecloud.sci.TargetABC" title="devicecloud.sci.TargetABC"><code class="xref py py-class docutils literal notranslate"><span class="pre">devicecloud.sci.TargetABC</span></code></a> or list of <a class="reference internal" href="sci.html#devicecloud.sci.TargetABC" title="devicecloud.sci.TargetABC"><code class="xref py py-class docutils literal notranslate"><span class="pre">devicecloud.sci.TargetABC</span></code></a> instances) – The device(s) to be targeted with this request</p></li>
<li><p><strong>path</strong> – The path on the target to list files and directories from</p></li>
<li><p><strong>hash</strong> – an optional attribute which indicates a hash over the file contents should be retrieved. Values
include none, any, md5, and crc32. any is used to indicate the device should choose its best available hash.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>A dictionary with keys of device ids and values of <a class="reference internal" href="#devicecloud.file_system_service.LsInfo" title="devicecloud.file_system_service.LsInfo"><code class="xref py py-class docutils literal notranslate"><span class="pre">LsInfo</span></code></a> objects containing the files and
directories or an <a class="reference internal" href="#devicecloud.file_system_service.ErrorInfo" title="devicecloud.file_system_service.ErrorInfo"><code class="xref py py-class docutils literal notranslate"><span class="pre">ErrorInfo</span></code></a> object if there was an error response</p>
</dd>
<dt class="field-odd">Raises</dt>
<dd class="field-odd"><p><a class="reference internal" href="#devicecloud.file_system_service.ResponseParseError" title="devicecloud.file_system_service.ResponseParseError"><code class="xref py py-class docutils literal notranslate"><span class="pre">ResponseParseError</span></code></a> If the SCI response has unrecognized formatting</p>
</dd>
</dl>
<p>Here is an example usage:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1"># dc is a DeviceCloud instance</span>
<span class="n">fssapi</span> <span class="o">=</span> <span class="n">dc</span><span class="o">.</span><span class="n">get_fss_api</span><span class="p">()</span>

<span class="n">target</span> <span class="o">=</span> <span class="n">AllTarget</span><span class="p">()</span>
<span class="n">ls_dir</span> <span class="o">=</span> <span class="s1">&#39;/root/home/user/important_files/&#39;</span>

<span class="n">ls_data</span> <span class="o">=</span> <span class="n">fssapi</span><span class="o">.</span><span class="n">list_files</span><span class="p">(</span><span class="n">target</span><span class="p">,</span> <span class="n">ls_dir</span><span class="p">)</span>

<span class="c1"># Loop over all device results</span>
<span class="k">for</span> <span class="n">device_id</span><span class="p">,</span> <span class="n">device_data</span> <span class="ow">in</span> <span class="n">ls_data</span><span class="o">.</span><span class="n">iteritems</span><span class="p">():</span>
    <span class="c1"># Check if it succeeded or was an error</span>
    <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">device_data</span><span class="p">,</span> <span class="n">ErrorInfo</span><span class="p">):</span>
        <span class="c1"># Do some error handling</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">warn</span><span class="p">(</span><span class="s2">&quot;Error listing file info on device </span><span class="si">%s</span><span class="s2">. errno: </span><span class="si">%s</span><span class="s2"> message:</span><span class="si">%s</span><span class="s2">&quot;</span><span class="p">,</span>
                    <span class="n">device_id</span><span class="p">,</span> <span class="n">device_data</span><span class="o">.</span><span class="n">errno</span><span class="p">,</span> <span class="n">device_data</span><span class="o">.</span><span class="n">message</span><span class="p">)</span>

    <span class="c1"># It&#39;s of type LsInfo</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="c1"># Look at all the files</span>
        <span class="k">for</span> <span class="n">finfo</span> <span class="ow">in</span> <span class="n">device_data</span><span class="o">.</span><span class="n">files</span><span class="p">:</span>
            <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;Found file </span><span class="si">%s</span><span class="s2"> of size </span><span class="si">%s</span><span class="s2"> on device </span><span class="si">%s</span><span class="s2">&quot;</span><span class="p">,</span>
                        <span class="n">finfo</span><span class="o">.</span><span class="n">path</span><span class="p">,</span> <span class="n">finfo</span><span class="o">.</span><span class="n">size</span><span class="p">,</span> <span class="n">device_id</span><span class="p">)</span>
        <span class="c1"># Look at all the directories</span>
        <span class="k">for</span> <span class="n">dinfo</span> <span class="ow">in</span> <span class="n">device_data</span><span class="o">.</span><span class="n">directories</span><span class="p">:</span>
            <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;Found directory </span><span class="si">%s</span><span class="s2"> of last modified </span><span class="si">%s</span><span class="s2"> on device </span><span class="si">%s</span><span class="s2">&quot;</span><span class="p">,</span>
                        <span class="n">dinfo</span><span class="o">.</span><span class="n">path</span><span class="p">,</span> <span class="n">dinfo</span><span class="o">.</span><span class="n">last_modified</span><span class="p">,</span> <span class="n">device_id</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="devicecloud.file_system_service.FileSystemServiceAPI.get_file">
<span class="sig-name descname"><span class="pre">get_file</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">target</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">path</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">offset</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">length</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#devicecloud.file_system_service.FileSystemServiceAPI.get_file" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the contents of a file on the device</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>target</strong> (<a class="reference internal" href="sci.html#devicecloud.sci.TargetABC" title="devicecloud.sci.TargetABC"><code class="xref py py-class docutils literal notranslate"><span class="pre">devicecloud.sci.TargetABC</span></code></a> or list of <a class="reference internal" href="sci.html#devicecloud.sci.TargetABC" title="devicecloud.sci.TargetABC"><code class="xref py py-class docutils literal notranslate"><span class="pre">devicecloud.sci.TargetABC</span></code></a> instances) – The device(s) to be targeted with this request</p></li>
<li><p><strong>path</strong> – The path on the target to the file to retrieve</p></li>
<li><p><strong>offset</strong> – Start retrieving data from this byte position in the file, if None start from the beginning</p></li>
<li><p><strong>length</strong> – How many bytes to retrieve, if None retrieve until the end of the file</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>A dictionary with keys of device ids and values of the bytes of the file (or partial file if offset
and/or length are specified) or an <a class="reference internal" href="#devicecloud.file_system_service.ErrorInfo" title="devicecloud.file_system_service.ErrorInfo"><code class="xref py py-class docutils literal notranslate"><span class="pre">ErrorInfo</span></code></a> object if there was an error response</p>
</dd>
<dt class="field-odd">Raises</dt>
<dd class="field-odd"><p><a class="reference internal" href="#devicecloud.file_system_service.ResponseParseError" title="devicecloud.file_system_service.ResponseParseError"><code class="xref py py-class docutils literal notranslate"><span class="pre">ResponseParseError</span></code></a> If the SCI response has unrecognized formatting</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="devicecloud.file_system_service.FileSystemServiceAPI.put_file">
<span class="sig-name descname"><span class="pre">put_file</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">target</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">path</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">file_data</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">server_file</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">offset</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">truncate</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#devicecloud.file_system_service.FileSystemServiceAPI.put_file" title="Permalink to this definition">¶</a></dt>
<dd><p>Put data into a file on the device</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>target</strong> (<a class="reference internal" href="sci.html#devicecloud.sci.TargetABC" title="devicecloud.sci.TargetABC"><code class="xref py py-class docutils literal notranslate"><span class="pre">devicecloud.sci.TargetABC</span></code></a> or list of <a class="reference internal" href="sci.html#devicecloud.sci.TargetABC" title="devicecloud.sci.TargetABC"><code class="xref py py-class docutils literal notranslate"><span class="pre">devicecloud.sci.TargetABC</span></code></a> instances) – The device(s) to be targeted with this request</p></li>
<li><p><strong>path</strong> – The path on the target to the file to write to.  If the file already exists it will be overwritten.</p></li>
<li><p><strong>file_data</strong> – A <cite>six.binary_type</cite> containing the data to put into the file</p></li>
<li><p><strong>server_file</strong> – The path to a file on the devicecloud server containing the data to put into the file on the
device</p></li>
<li><p><strong>offset</strong> – Start writing bytes to the file at this position, if None start at the beginning</p></li>
<li><p><strong>truncate</strong> – Boolean, if True after bytes are done being written end the file their even if previous data
exists beyond it.  If False, leave any existing data in place.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>A dictionary with keys being device ids and value being None if successful or an <a class="reference internal" href="#devicecloud.file_system_service.ErrorInfo" title="devicecloud.file_system_service.ErrorInfo"><code class="xref py py-class docutils literal notranslate"><span class="pre">ErrorInfo</span></code></a>
if the operation failed on that device</p>
</dd>
<dt class="field-odd">Raises</dt>
<dd class="field-odd"><p><a class="reference internal" href="#devicecloud.file_system_service.FileSystemServiceException" title="devicecloud.file_system_service.FileSystemServiceException"><code class="xref py py-class docutils literal notranslate"><span class="pre">FileSystemServiceException</span></code></a> if either both file_data and server_file are specified or
neither are specified</p>
</dd>
<dt class="field-even">Raises</dt>
<dd class="field-even"><p><a class="reference internal" href="#devicecloud.file_system_service.ResponseParseError" title="devicecloud.file_system_service.ResponseParseError"><code class="xref py py-class docutils literal notranslate"><span class="pre">ResponseParseError</span></code></a> If the SCI response has unrecognized formatting</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="devicecloud.file_system_service.FileSystemServiceAPI.delete_file">
<span class="sig-name descname"><span class="pre">delete_file</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">target</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">path</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#devicecloud.file_system_service.FileSystemServiceAPI.delete_file" title="Permalink to this definition">¶</a></dt>
<dd><p>Delete a file from a device</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>target</strong> (<a class="reference internal" href="sci.html#devicecloud.sci.TargetABC" title="devicecloud.sci.TargetABC"><code class="xref py py-class docutils literal notranslate"><span class="pre">devicecloud.sci.TargetABC</span></code></a> or list of <a class="reference internal" href="sci.html#devicecloud.sci.TargetABC" title="devicecloud.sci.TargetABC"><code class="xref py py-class docutils literal notranslate"><span class="pre">devicecloud.sci.TargetABC</span></code></a> instances) – The device(s) to be targeted with this request</p></li>
<li><p><strong>path</strong> – The path on the target to the file to delete.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>A dictionary with keys being device ids and value being None if successful or an <a class="reference internal" href="#devicecloud.file_system_service.ErrorInfo" title="devicecloud.file_system_service.ErrorInfo"><code class="xref py py-class docutils literal notranslate"><span class="pre">ErrorInfo</span></code></a>
if the operation failed on that device</p>
</dd>
<dt class="field-odd">Raises</dt>
<dd class="field-odd"><p><a class="reference internal" href="#devicecloud.file_system_service.ResponseParseError" title="devicecloud.file_system_service.ResponseParseError"><code class="xref py py-class docutils literal notranslate"><span class="pre">ResponseParseError</span></code></a> If the SCI response has unrecognized formatting</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="devicecloud.file_system_service.FileSystemServiceAPI.get_modified_items">
<span class="sig-name descname"><span class="pre">get_modified_items</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">target</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">path</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">last_modified_cutoff</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#devicecloud.file_system_service.FileSystemServiceAPI.get_modified_items" title="Permalink to this definition">¶</a></dt>
<dd><p>Get all files and directories from a path on the device modified since a given time</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>target</strong> (<a class="reference internal" href="sci.html#devicecloud.sci.TargetABC" title="devicecloud.sci.TargetABC"><code class="xref py py-class docutils literal notranslate"><span class="pre">devicecloud.sci.TargetABC</span></code></a> or list of <a class="reference internal" href="sci.html#devicecloud.sci.TargetABC" title="devicecloud.sci.TargetABC"><code class="xref py py-class docutils literal notranslate"><span class="pre">devicecloud.sci.TargetABC</span></code></a> instances) – The device(s) to be targeted with this request</p></li>
<li><p><strong>path</strong> – The path on the target to the directory to check for modified files.</p></li>
<li><p><strong>last_modified_cutoff</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.10)"><em>int</em></a>) – The time (as Unix epoch time) to get files modified since</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>A dictionary where the key is a device id and the value is either an <a class="reference internal" href="#devicecloud.file_system_service.ErrorInfo" title="devicecloud.file_system_service.ErrorInfo"><code class="xref py py-class docutils literal notranslate"><span class="pre">ErrorInfo</span></code></a> if there
was a problem with the operation or a <a class="reference internal" href="#devicecloud.file_system_service.LsInfo" title="devicecloud.file_system_service.LsInfo"><code class="xref py py-class docutils literal notranslate"><span class="pre">LsInfo</span></code></a> with the items modified since the
specified date</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="devicecloud.file_system_service.FileSystemServiceAPI.exists">
<span class="sig-name descname"><span class="pre">exists</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">target</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">path</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">path_sep</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'/'</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#devicecloud.file_system_service.FileSystemServiceAPI.exists" title="Permalink to this definition">¶</a></dt>
<dd><p>Check if path refers to an existing path on the device</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>target</strong> (<a class="reference internal" href="sci.html#devicecloud.sci.TargetABC" title="devicecloud.sci.TargetABC"><code class="xref py py-class docutils literal notranslate"><span class="pre">devicecloud.sci.TargetABC</span></code></a> or list of <a class="reference internal" href="sci.html#devicecloud.sci.TargetABC" title="devicecloud.sci.TargetABC"><code class="xref py py-class docutils literal notranslate"><span class="pre">devicecloud.sci.TargetABC</span></code></a> instances) – The device(s) to be targeted with this request</p></li>
<li><p><strong>path</strong> – The path on the target to check for existence.</p></li>
<li><p><strong>path_sep</strong> – The path separator of the device</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>A dictionary where the key is a device id and the value is either an <a class="reference internal" href="#devicecloud.file_system_service.ErrorInfo" title="devicecloud.file_system_service.ErrorInfo"><code class="xref py py-class docutils literal notranslate"><span class="pre">ErrorInfo</span></code></a> if there
was a problem with the operation or a boolean with the existence status of the path on that device</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="sci.html" class="btn btn-neutral float-left" title="SCI (Server Command Interface) API" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="monitor.html" class="btn btn-neutral float-right" title="Monitor API" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2015-2018, Digi International Inc..</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>